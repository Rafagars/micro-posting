{% extends "base.html" %}

{% block title %} {{current_user.username}}'s Profile {% endblock %}

{% block content %}

<h1> {{current_user.username}}'s Profile </h1>
<h6> Number of posts: {{posts.count()}} </h6>

		<div id="posts">
			{% for post in posts %}
				<br>
				<div class="post">
					<h2 class="">{{post.title}}</h2>
					<p>{{post.body}}</p>

					{% if current_user.id == post.posted_by %}
					<h6><a href="{{url_for('delete_post', post_id = post.id)}}" class="float-right">&emsp; Delete</a></h6>
					<h6><a href="{{url_for('edit_post', post_id = post.id)}}" class="float-right"> Edit</a></h6>
					{% endif %}
					{% if current_user.has_liked_post(post) %}
					<p class="likes"><a href="{{ url_for('like_action', post_id=post.id, action='unlike') }}" class="fas fa-heart"></a><span style="margin-left: 5px;">{{ post.likes.count() }}</span></p>
					{% else %}
					<p class="likes"><a href="{{ url_for('like_action', post_id=post.id, action='like') }}" class="far fa-heart"></a><span style="margin-left: 5px;">{{ post.likes.count() }}</span></p>
					{% endif %}

				</div>
				
			{% endfor %}
		</div>

{% endblock %}